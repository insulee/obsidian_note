# Roadee 서버 배포판 가이드

## 배포판 생성하기

Roadee 서버 프로젝트는 배포판 생성을 위한 자동화 스크립트를 제공합니다. 이 스크립트는 가상환경을 활용하여 독립적인 실행 파일을 생성합니다.

### 준비 사항

- Python 3.6 이상이 설치되어 있어야 합니다.
- 프로젝트 소스 코드가 준비되어 있어야 합니다.

### 배포판 생성 방법

#### Windows에서 배포판 생성

1. PowerShell(권장)을 사용하는 경우:

```powershell
# PowerShell 실행 정책 변경 (필요한 경우)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# 배포판 생성 스크립트 실행
.\build_venv.ps1
```

2. 명령 프롬프트(CMD)를 사용하는 경우:

```cmd
# 배포판 생성 스크립트 실행
build_venv.bat
```

#### 배포판 생성 과정

스크립트는 다음과 같은 단계로 배포판을 생성합니다:

1. 현재 디렉토리 확인
2. 가상환경 확인 및 활성화
3. 필요한 패키지 설치
4. 배포판 빌드
5. 빌드 완료 및 가상환경 비활성화

성공적으로 빌드되면 `dist` 폴더에 실행 파일이 생성됩니다.

## 배포판 사용 방법

### 배포판 배포

배포를 위해 다음 파일/폴더를 포함해야 합니다:

- `dist/RoadeeSvr-<버전>.exe` : 생성된 실행 파일
- 기타 런타임에 필요한 외부 리소스 (필요한 경우)

### 배포판 실행

최종 사용자는 배포된 실행 파일을 더블 클릭하여 프로그램을 실행할 수 있습니다.

## 주의 사항

- 배포판은 빌드된 환경과 동일한 OS에서 실행되어야 합니다.
- Windows에서 빌드된 실행 파일은 Windows에서만 실행할 수 있습니다.
- 모든 종속성이 포함된 배포판이므로 Python이나 추가 라이브러리가 설치되지 않은 환경에서도 실행 가능합니다.

## 문제 해결

배포판 생성 또는 실행 중에 문제가 발생하면 다음을 확인하세요:

1. PyInstaller 최신 버전 설치
   ```
   pip install --upgrade pyinstaller
   ```

2. 필수 라이브러리가 모두 설치되어 있는지 확인
   ```
   pip install paho-mqtt pillow
   ```

3. 안티바이러스 프로그램이 실행 파일을 차단하지 않는지 확인

4. 로그 파일 확인 (실행 시 생성되는 로그 파일 참조)