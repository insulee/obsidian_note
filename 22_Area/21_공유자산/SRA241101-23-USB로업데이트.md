### 순서
- 기존보드에서 모든 세팅 완료
	- 세팅 후 USB에 전송
	- [ ] USB를 꽂고 할지
	- [ ] 그냥하고 USB를 꽂으면 자동으로 전송이 되는지
- usb 꽂을때 차이점 설명
- 

- 모든 파일이 담긴 USB를 다른 보드에 꽂으면 해당 내용이 모두 전송
- 현재는 bin 파일로 확장자를 변경하지 않아도 전송 가능
- TEST 환경
	- 컨트롤러: `DB600T`
	- 펌웨어: `DIBD600T_08C_04R020C_V2.6.3-UM-1101.bin`
	- 프로그램: `DabitChe_V2.4.3`
- 생성파일목록
	- 기능 설정 파일: `param000.set`
    - 메인 표시목록 스케줄 파일: `main_000.pla`
	- 배경 표시목록 스케줄 파일: `book_000.bgp`
	- 페이지 문구 저장 파일: `page_000.set`
	- 폰트 저장 파일: `nfont_00.fnt`
#### 파일 목록 및 신규 작업 개요
- 적용 보드: DB500/600 보드 (DB300/502는 추후 적용)
- 기존의 USB 메모리에 자동으로 생성되는 파일 목록
	- 기능 설정 파일: `param000.set`
    - 메인 표시목록 스케줄 파일: `main_000.pla`
	- 배경 표시목록 스케줄 파일: `book_000.bgp`
	- 페이지 문구 저장 파일: `page_000.set`
	- 폰트 저장 파일: `nfont_00.fnt`
- 신규 작업
	- 플래시롬 저장방식일때만 적용됨:
		- 메인 텍스트이미지 파일 전체: `dat_mimg.bin`
		- 메인 동영상이미지 파일 전체: `ani_mimg.bin`
		- 배경 텍스트이미지 파일 전체: `dat_bimg.bin`
		- 배경 동영상이미지 파일 전체: `ani_bimg.bin`
	- 소프트웨어 작업 
		- 다빛채의 "Memory/Write" 폴더에 파일 생성
		- 다빛채로 구현 (임팀장 외주 처리)
- 보드 리셋 후 자동 업데이트 되는 파일 목록(.bin)
	- `nfont_00.bin`: `param000.bin`에 폰트 파라메타 저장되어 있음
	- `main_000.bin`
	- `book_000.bin`
	- `param000.bin`
	- `page_000.bin`
	- `dat_mimg.bin`: `main_000.bin`에 main 텍스트 이미지 파일수 저장되어 있음
	- `ani_mimg.bin`: `main_000.bin`에 main 동영상 이미지 파일수 저장되어 있음
	- `dat_bimg.bin`: `book_000.bin`에 배경 텍스트 이미지 파일수 저장되어 있음
	- `ani_bimg.bin`: `book_000.bin`에 배경 동영상 이미지 파일수 저장되어 있음
	- `DB500S_08C_02R020C_V2.5.3.bin` 

#### USB/SD를 통한 컨트롤러 파일 업데이트
- **폰트 파일 업데이트**
    1. USB/SD 메모리에 다빛채를이용해 폰트를 전송하고, 생성된 `nfont_00.fnt`, `param000.set` 파일의 확장자를 각각 `nfont_00.bin`, `param000.bin`으로 변경.
    2. `nfont_00.bin`, `param000.bin` 파일이 포함된 USB/SD를 컨트롤러에 삽입하면 플래시 롬의 해당 주소로 업데이트.
    3. USB/SD 메모리를 제거하고 컨트롤러를 리셋하면 업데이트된 폰트로 동작.
- **메인 스케줄 및 텍스트/동영상 이미지 파일 업데이트**
    1. 다빛채에서 표시 목록 작성 후, 업로드 버튼을 누르면 `Memory\Write` 폴더에 다음과 같은 파일들이 생성됨:
        - `main_000.pla` : 메인 스케줄 파일
        - `dat_mimg.bin` : 메인 텍스트 이미지 파일
        - `ani_mimg.bin` : 메인 동영상 이미지 파일
        - `*.dat, *.daz, *.ani, *.anz` : USB/SD 메모리를 주 메모리로 사용할 때 필요한 파일들
    2. `main_000.pla` 파일의 확장자를 `main_000.bin`으로 변경.
    3. `main_000.bin`, `dat_mimg.bin`, `ani_mimg.bin` 파일이 포함된 USB/SD를 컨트롤러에 삽입하여 플래시 롬의 해당 주소로 업데이트.
    4. USB/SD 메모리를 제거하고 컨트롤러를 리셋하면 업데이트된 파일들로 동작.
- **배경 스케줄 및 텍스트/동영상 이미지 파일 업데이트**
    1. 다빛채에서 표시 목록 작성 후, 업로드 버튼을 누르면 `Memory\Write` 폴더에 다음과 같은 파일들이 생성됨:
        - `book_000.bgp` : 배경 스케줄 파일
        - `dat_bimg.bin` : 배경 텍스트 이미지 파일
        - `ani_bimg.bin` : 배경 동영상 이미지 파일
        - `*.dat, *.daz, *.ani, *.anz` : USB/SD 메모리를 주 메모리로 사용할 때 필요한 파일들
    2. `book_000.bgp` 파일의 확장자를 `book_000.bin`으로 변경.
    3. `book_000.bin`, `dat_bimg.bin`, `ani_bimg.bin` 파일이 포함된 USB/SD를 컨트롤러에 삽입하여 플래시 롬의 해당 주소로 업데이트.
    4. USB/SD 메모리를 제거하고 컨트롤러를 리셋하면 업데이트된 파일들로 동작.
- **사용자 펌웨어 업데이트**
    1. 사용자 펌웨어 파일이 포함된 USB/SD를 컨트롤러에 삽입.
        - 펌웨어 파일 명칭은 반드시 `DIBD500S/DIBD502S/DIBD600T` 의 포맷으로 시작해야 함
    2. 펌웨어는 플래시 롬의 임시 공간에 저장됨.
    3. USB/SD 메모리를 제거한 후 컨트롤러를 리셋하면 임시 공간에 저장된 펌웨어로 업데이트 및 실행.

#### 다빛채의 Write 폴더에 있는 파일들을 USB 메모리로 업데이트할 수 있도록 하는 작업 순서:
1. 배경 스케줄 전송 후 생성된 파일들 복사
2. 메인 스케줄 전송 후 생성된 파일들 복사
3. 폰트 전송 후 생성된 파일 중 **nfont_00.fnt**와 **param000.set** 파일만 복사
4. 복사한 모든 파일의 확장자를 `.bin`으로 변경
5. **DB502에서는 USB/SD 메모리 파일명에 한글을 지원하지 않음** (플래시 롬 적용 시에는 한글 파일명 사용 가능)
##### 확인사항
- [ ] 순서를 바꾸면 적용되는지(폰트먼저 스케줄나중)
- [ ] 배경과 메인스케줄을 동시에 넣었을때 어떤게 동작하는지?
- [ ] 다빛채 - ani/anz 업로드시 .frm이 없음이라 나옴
- [ ] 성화기술산업 -> usb 이동시 표시목록이 안나오는 현상 
	- 패턴 또는 특정 목록 숫자만인지 확인필요