### **성화기술산업 - 컨트롤러 펌웨어 개발 안내서**

**1. 개발 개요**  
- 본 프로젝트는 다빛솔루션의 DB502S + DB300WB 컨트롤러를 통해, LED 모듈에 지정된 문구를 표출하는 프로젝트입니다. 
- 컨트롤박스에서 RS232 통신을 통해 지정된 문구 번호를 전송하고, 이를 전광판에 출력합니다. 
- 이를 위한 프로토콜 패킷을 분석하고 펌웨어를 수정하는 작업이 포함됩니다.

**2. 시스템 구성**

- **다빛솔루션 컨트롤러**: DB502S + DB300WB
- **모듈 정보**: P4 2단 8열 (128x32픽셀, 2단 4열 x 2개)
- **통신 방식**: RS-232, BLE 통신
- **RS-232 통신 설정**:
    - **통신속도**: 9600
    - **데이터비트**: 8
    - **페리티**: 없음
    - **정지비트**: 1
    - **흐름제어**: 없음

**3. 지정 문구 전송**  
- 사용자는 컨트롤박스로 1~12번까지의 미리 입력된 문구를 전광판에 전송할 수 있습니다. 
- 각 문구는 아래의 프로토콜 패킷을 통해 컨트롤러로 전달되며, 다빛솔루션 컨트롤러는 이를 전광판에 표출됩니다. 
- 또한 별도의 APP에서 BLE통신으로 11~12번의 사용자 지정 문구를 입력할 수 있습니다.

**4. 프로토콜 패킷**

1. **양보해 주셔서 감사합니다. (흰색, 이동하기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 31 5F 03
    ```
2. **사고 수습 중 입니다. 우회하세요. →→→ (흰색, 이동하기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 32 56 03
    ```
3. **←←← 사고 수습 중 입니다. 우회하세요. (흰색, 이동하기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 33 51 03
    ```
4. **응급 출동 중 입니다. (흰색, 이동하기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 34 44 03
    ```
5. **급정거에 주의하세요. (흰색, 이동하기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 35 43 03
    ```
6. **(적색 전체 점멸)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 36 4A 03
    ```
7. **전방 ! 주의 (적색, 점멸)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 37 4D 03
    ```
8. **<<< <<< <<< <<< (적색, 닦아내기 왼쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 38 60 03
    ```
9. **>>> >>> >>> >>> (적색, 닦아내기 오른쪽)**
    ```
    02 03 52 00 30 58 03 02 03 52 00 39 67 03
    ```
10. **없음**

11. **사용자지정 (예상 1)**
    ```
    02 03 52 00 31 5F 03 02 03 52 00 31 5F 03
    ```
12. **사용자지정 (예상 2)**
    ```
    02 03 52 00 31 5F 03 02 03 52 00 32 56 03
    ```
    

**5. 개발사항 및 견적**(부가세 별도)
- 개발기간: 컨펌 후 3주
- 100세트 주문시 비용 
    - DB502S + DB300WB 세트: 세트당 65,000원
    - PCB 안테나: 무료 제공
    - 프로토콜 분석 및 펌웨어 개발: 1,000,000원
- 세트 주문 없이 펌웨어 변경 시 비용
    - 프로토콜 분석 및 펌웨어 개발: 2,000,000원
- 추가 사항
    - 9개의 문구 제작은 제공되지 않습니다.
    - 전자파적합성 인증은 미예정입니다.
    - RTC 모듈은 적용하지 않습니다.






%%
**참고 영상**
1
- **참고 영상**: ![[성화구급차.mp4]]
%%
