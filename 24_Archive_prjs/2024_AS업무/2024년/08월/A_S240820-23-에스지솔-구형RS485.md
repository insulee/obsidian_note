---
share_link: https://share.note.sx/1kwkkmtd#6/tsWdAjxPi/ATfiRen2bn4i3nBlHQk4wxv5TlNcayM
share_updated: 2024-08-20T15:04:03+09:00
---
#### 문제사항
- DB502SV10 (펌웨어 v2.1.0) + 구형RS485(address 4) 연결 후 전원리셋하면 11초 경과후에 정상 작동
- DB502S 컨트롤러에서도 전원리셋시 PWR에만 불이 들어오다 11초 경과후 S1, S2에 불이 들어오면서 정상 연결

#### 확인 및 조치사항
- RS485
	- 스위치 3번과 같이 켜지는 Address는 같은 현상 발생
	- 하지만 스위치 3번과 5번이 같이 켜지는 Address는 정상 작동

| 스위치1 ($2^0$) | 스위치2 ($2^1$) | **스위치3 ($2^2$)** | 스위치4 ($2^3$) | 스위치5 ($2^4$) | RS485 Address | 작동  |
| :----------: | :----------: | :--------------: | :----------: | :----------: | :-----------: | --- |
|      0       |      0       |        0         |      0       |      0       |      00       |     |
|      1       |      0       |        0         |      0       |      0       |      01       |     |
|      0       |      1       |        0         |      0       |      0       |      02       |     |
|      1       |      1       |        0         |      0       |      0       |      03       |     |
|      0       |      0       |      **1**       |      0       |      0       |      04       | x   |
|      1       |      0       |      **1**       |      0       |      0       |      05       | x   |
|      0       |      1       |      **1**       |      0       |      0       |      06       | x   |
|      1       |      1       |      **1**       |      0       |      0       |      07       | x   |
|      0       |      0       |        0         |      1       |      0       |      08       |     |
|      1       |      0       |        0         |      1       |      0       |      09       |     |
|      0       |      1       |        0         |      1       |      0       |      10       |     |
|      1       |      1       |        0         |      1       |      0       |      11       |     |
|      0       |      0       |      **1**       |      1       |      0       |      12       | x   |
|      1       |      0       |      **1**       |      1       |      0       |      13       | x   |
|      0       |      1       |      **1**       |      1       |      0       |      14       | x   |
|      1       |      1       |      **1**       |      1       |      0       |      15       | x   |
|      0       |      0       |        0         |      0       |      1       |      16       |     |
|      1       |      0       |        0         |      0       |      1       |      17       |     |
|      0       |      1       |        0         |      0       |      1       |      18       |     |
|      1       |      1       |        0         |      0       |      1       |      19       |     |
|      0       |      0       |      **1**       |      0       |    **1**     |      20       | o   |
|      1       |      0       |      **1**       |      0       |    **1**     |      21       | o   |
|      0       |      1       |      **1**       |      0       |    **1**     |      22       | o   |
|      1       |      1       |      **1**       |      0       |    **1**     |      23       | o   |
|      0       |      0       |        0         |      1       |      1       |      24       |     |
|      1       |      0       |        0         |      1       |      1       |      25       |     |
|      0       |      1       |        0         |      1       |      1       |      26       |     |
|      1       |      1       |        0         |      1       |      1       |      27       |     |
|      0       |      0       |      **1**       |      1       |    **1**     |      28       | o   |
|      1       |      0       |      **1**       |      1       |    **1**     |      29       | o   |
|      0       |      1       |      **1**       |      1       |    **1**     |      30       | o   |
|      1       |      1       |      **1**       |      1       |    **1**     |      31       | o   |

- 컨트롤러 하드웨어 
	- DB502SV06 (펌웨어 v09.16)에서는 정상 동작
- 컨트롤러 펌웨어
	- 가장 최신 펌웨어인 v2.4.6 부터 2.4.4, 2.4.3, 2.3.1, 2.1.0 까지 동일한 증상 확인
	- **하지만 `DB502S_08C_02R020C_V2.4.3-USB.bin`에서는 정상동작 (다른 버전의 USB도 동작하는지 확인필요)**

#### 해결방안
- 컨트롤러가 리셋될 때, SD 메모리 장착 여부를 확인하는 펌웨어가 실행됩니다.
	- 이 과정에서 SD 메모리 감지 핀(SW3)이 Low 상태로 유지되면, CPU가 약 10초 동안 SD 메모리 읽기를 시도하다가 실패하고, 이후 일반 모드로 부팅되는 것으로 보입니다.
	- RS485 주소를 사용할 경우, SD 메모리 인식을 생략하는 펌웨어 버전을 사용하는 것을 권장드립니다.