
---

>[!abstract] 기본정보 
>프로그램: DABIT Protocol Simulator(V2.2.2)
>컨트롤러: DB600TV8.8
>펌웨어: DIBD600T_08C_04R020C_V2.5.2-UM-빛샘전자 수위정보전광판-5s.bin

---
#### 컨트롤러 연결
**TTL/RS232 연결**
- 설정 및 제어 > 통신설정
	- `Serial`  
	- 통신 포트 설정: `포트명` 
	- 통신 속도 설정: 기본 속도는 `115200`
	- `컨트롤러 연결`

**이더넷 연결**
- 설정 및 제어 > 통신설정 > DABITNet
	1. 네트워크 정보 입력 (Set)
		- `Search`
		- Board List: `**-**-**-**-**-**` (해당 컨트롤러의 S/N)
		- Local IP, Port, Subnet Mask 등 네트워크 정보 입력
		- `Set`
	2. 입력한 네트워크 정보를 컨트롤러에 적용 (Add)
		- `Search`
		- Board List: `**-**-**-**-**-**` (해당 컨트롤러의 S/N)
		- `Add`
	3. IP Adress, IP Port 값이 정확하게 입력되었는지 확인
		- `포트열기`
		- `컨트롤러 연결`
		- `닫기`

#### 펌웨어 업그레이드
- ![[prj_빛샘수위3.png]]
- 설정 및 제어 > 펌웨어 업그레이드
	- `읽기`
	- `열기` > 펌웨어파일 선택 > `열기`
	- `전송`
	- `닫기`
- 펌웨어는 총 세가지 (전송받는 간격에 따라 5s, 30s, 60s)
	- DIBD600T_08C_04R020C_V2.5.2-UM-빛샘전자 수위정보전광판-5s.bin
	- DIBD600T_08C_04R020C_V2.5.2-UM-빛샘전자 수위정보전광판-30s.bin
	- DIBD600T_08C_04R020C_V2.5.2-UM-빛샘전자 수위정보전광판-60s.bin

#### 전광판 설정 (전광판 화면 크기: 160(w) x 32(h), 단위:pixel)
- ![[prj_빛샘수위1.png]]
- 설정 및 제어 > 전광판 크기
	- 세로 크기: `2`
	- 가로 크기: `10`
	- 픽셀당 비트수: `3BPP(8Color)`
	- 모듈배열방법: `가로형(default)`
	- `전송`
#### 실시간 문구 설정 > `효과개별표출`


#### 서버장비 고정 IP 설정
- ![[prj_빛샘수위2.png]]
- 설정 및 제어 > 통신 설정
	- 통신 설정 창 > `DABITNet`
	- DabitNet(V2.2.2) > `Search` > 컨트롤러의 맥 주소 클릭
	- Operation Mode(Controller): `Client`
	- Server > IP: `121.137.95.37`, Port: `20001`
	- `Set`

<br>
<br>
<br>

#### AWAS 깜빡임 속도 및 유지시간 설정 [^1]
- ![[prj_빛샘수위4.png]]
- 설정 및 제어 > 프로토콜 형식: `아스키 프로토콜`
- 아스키프로토콜 > `기본 표시 속성 설정` > 효과속도, 유지시간 선택 
- 유지시간: `10` 이상
- `설정` 
- `전송`
- `닫기`

### 통신 패킷
- **송신 패킷 (Transmit Packet)**:
	- 02 00 01 00 01 00 03
- **응답 패킷 (Response Packet)**:
	- 02 80 01 00 0C 07 E8 09 0A 01 13 21 02 BC 02 58 00 03
	- 02 80 01 00 0C 07 E8 09 0A 01 13 35 03 20 02 58 01 03
	- 02 80 01 00 0C 07 E8 09 0A 01 13 37 03 52 02 58 01 03
	- 02 80 01 00 0C 07 E8 09 0A 01 14 00 04 4C 02 58 02 03
	- 02 80 01 00 0C 07 E8 09 0A 01 14 06 02 8A 02 58 00 03
- 응답패킷 분석
	- 02       : 
	- 80 01  : 수위응답 커맨드
	- 00 0C : 데이터 길이(12바이트)
	- 07 E8 : 년
	- 09      : 월
	- 0A      : 일
	- 01       : 시
	- 14       : 분
	- 06      : 초
	- 02 8A : 현재수위:12.32m → 1232
	- 02 58 : 기준수위:30.32m → 3032
	- 00      : 수위 알람 레벨 - 00h: 보통, 01h: 경고, 02h: 위험
	- 03      : 


[^1]: 테스트 후 요청시 펌웨어에 속도 및 유지시간 고정 가능 


%%
참고문서
[[PRJ240909-11-빛샘 수위정보 전광판]]
%%