# Git 브랜치 작업 흐름 완전 가이드

> 브랜치 생성부터 병합까지 실전 워크플로우 상세 가이드

---

## 목차

1. [브랜치란 무엇인가?](#브랜치란-무엇인가)
2. [브랜치 작업 흐름 전체 개요](#브랜치-작업-흐름-전체-개요)
3. [단계별 상세 가이드](#단계별-상세-가이드)
4. [실전 예시: 견적문의 폼 업데이트](#실전-예시-견적문의-폼-업데이트)
5. [자주 묻는 질문](#자주-묻는-질문)

---

## 브랜치란 무엇인가?

### 간단한 비유

**브랜치는 독립적인 작업 공간**입니다.

```
메인 도로 (main 브랜치)
  ├── 안정적인 버전 유지
  │
  ├── 새 작업 도로 (feature 브랜치)
  │   └── 실험적인 작업
  │
  └── 수리 도로 (fix 브랜치)
      └── 버그 수정 작업
```

### 브랜치를 사용하는 이유

1. **안정성**: 메인 코드는 항상 안정적으로 유지
2. **병렬 작업**: 여러 작업을 동시에 진행 가능
3. **실험**: 새로운 기능을 안전하게 테스트
4. **롤백 용이**: 문제 발생 시 쉽게 되돌리기 가능

---

## 브랜치 작업 흐름 전체 개요

```
1. 메인 브랜치에서 시작
   ↓
2. 새 브랜치 생성 및 전환
   ↓
3. 브랜치에서 작업 (파일 수정, 커밋)
   ↓
4. 원격 저장소에 푸시
   ↓
5. 메인 브랜치로 돌아가기
   ↓
6. 작업 브랜치 병합
   ↓
7. 병합된 내용 푸시
   ↓
8. (선택) 작업 브랜치 삭제
```

---

## 단계별 상세 가이드

### 1단계: 현재 상태 확인

작업을 시작하기 전에 현재 상태를 확인합니다.

```bash
# 현재 브랜치 확인
git branch

# 현재 브랜치와 변경사항 확인
git status

# 모든 브랜치 확인 (로컬 + 원격)
git branch -a
```

**출력 예시:**
```
* main                    ← 현재 브랜치 (별표 표시)
  docs/견적문의폼-업데이트
```

---

### 2단계: 메인 브랜치로 이동 (필요시)

새 브랜치를 만들기 전에 메인 브랜치에 있는지 확인합니다.

```bash
# 메인 브랜치로 전환
git checkout main

# 또는 (Git 2.23+)
git switch main
```

**중요**: 
- 전환 전에 변경사항이 있다면 먼저 커밋하거나 저장해야 합니다
- 변경사항이 있으면 Git이 전환을 막을 수 있습니다

---

### 3단계: 최신 버전 가져오기 (권장)

다른 사람이 작업한 내용이 있을 수 있으므로 최신 버전을 가져옵니다.

```bash
# 메인 브랜치에서
git pull origin main
```

**왜 필요한가?**
- 다른 사람이 메인 브랜치에 변경사항을 푸시했을 수 있음
- 최신 버전을 기반으로 작업해야 충돌 방지

---

### 4단계: 새 브랜치 생성 및 전환

새 작업을 위한 브랜치를 생성합니다.

```bash
# 방법 1: 브랜치 생성 + 전환 (한 번에)
git checkout -b docs/새작업명

# 방법 2: Git 2.23+ (더 명확한 명령어)
git switch -c docs/새작업명

# 방법 3: 단계별로
git branch docs/새작업명      # 브랜치 생성
git checkout docs/새작업명     # 브랜치 전환
```

**브랜치 명명 규칙:**
- `docs/문서명`: 문서 작업
- `feature/기능명`: 새 기능 개발
- `fix/버그명`: 버그 수정
- `refactor/내용`: 코드 리팩토링

**예시:**
```bash
git checkout -b docs/견적문의폼-업데이트
git checkout -b feature/새기능추가
git checkout -b fix/로그인오류수정
```

---

### 5단계: 브랜치에서 작업하기

브랜치를 전환했으니 이제 작업을 시작합니다.

```bash
# 1. 파일 수정
# (에디터에서 파일 수정)

# 2. 변경사항 확인
git status

# 3. 변경사항 스테이징
git add 파일명
# 또는 모든 변경사항
git add .

# 4. 커밋
git commit -m "docs: 견적문의 폼 업데이트"

# 5. 원격 저장소에 푸시 (처음 푸시 시)
git push -u origin docs/견적문의폼-업데이트

# 6. 이후 푸시는 간단하게
git push
```

**중요 포인트:**
- 브랜치에서 작업하는 동안 메인 브랜치는 변경되지 않음
- 여러 번 커밋 가능 (작은 단위로 자주 커밋 권장)
- 원격 저장소에 푸시하면 다른 사람도 볼 수 있음

---

### 6단계: 작업 완료 후 메인 브랜치로 돌아가기

작업이 완료되면 메인 브랜치로 돌아갑니다.

```bash
# 메인 브랜치로 전환
git checkout main

# 또는
git switch main
```

**주의사항:**
- 전환 전에 모든 변경사항을 커밋했는지 확인
- 커밋하지 않은 변경사항이 있으면 Git이 경고함

---

### 7단계: 작업 브랜치를 메인에 병합하기

작업한 내용을 메인 브랜치에 합칩니다.

```bash
# 1. 메인 브랜치에 있는지 확인
git branch
# * main  ← 별표가 main에 있어야 함

# 2. 최신 버전 가져오기 (다른 사람이 작업했을 수 있음)
git pull origin main

# 3. 작업 브랜치 병합
git merge docs/견적문의폼-업데이트
```

**병합 결과:**
- 성공: "Fast-forward" 또는 "Merge made by the 'recursive' strategy" 메시지
- 충돌: 충돌 해결 필요 (아래 참고)

---

### 8단계: 병합된 내용 푸시하기

메인 브랜치에 병합한 내용을 원격 저장소에 업로드합니다.

```bash
git push origin main
```

---

### 9단계: (선택) 작업 브랜치 삭제하기

병합이 완료되고 더 이상 필요 없다면 브랜치를 삭제할 수 있습니다.

```bash
# 로컬 브랜치 삭제
git branch -d docs/견적문의폼-업데이트

# 원격 브랜치 삭제
git push origin --delete docs/견적문의폼-업데이트
```

**주의:**
- `-d`: 안전 삭제 (병합된 브랜치만 삭제)
- `-D`: 강제 삭제 (병합되지 않은 브랜치도 삭제, 주의!)

---

## 실전 예시: 견적문의 폼 업데이트

현재 상황을 기준으로 실제 작업 흐름을 보여드립니다.

### 현재 상태
```
* docs/견적문의폼-업데이트  ← 현재 여기에 있음
  main
```

### 시나리오 1: 작업을 계속 진행하는 경우

```bash
# 현재 브랜치에서 계속 작업
# 1. 파일 수정
# 2. 변경사항 확인
git status

# 3. 커밋
git add .
git commit -m "docs: 추가 수정사항 반영"

# 4. 푸시
git push
```

### 시나리오 2: 메인 브랜치로 병합하는 경우

```bash
# 1. 현재 작업 커밋 확인 (모든 변경사항 커밋했는지)
git status

# 2. 메인 브랜치로 전환
git checkout main

# 3. 최신 버전 가져오기
git pull origin main

# 4. 작업 브랜치 병합
git merge docs/견적문의폼-업데이트

# 5. 병합된 내용 푸시
git push origin main

# 6. (선택) 작업 브랜치 삭제
git branch -d docs/견적문의폼-업데이트
git push origin --delete docs/견적문의폼-업데이트
```

### 시나리오 3: 메인 브랜치로 돌아가기만 하는 경우 (병합 안 함)

```bash
# 단순히 메인 브랜치로 전환만
git checkout main

# 작업 브랜치는 그대로 유지
# 나중에 다시 돌아올 수 있음
git checkout docs/견적문의폼-업데이트
```

---

## 충돌 해결하기

### 충돌이 발생하는 경우

두 브랜치에서 같은 파일의 같은 부분을 수정했을 때 발생합니다.

```bash
git merge docs/견적문의폼-업데이트
```

**출력 예시:**
```
Auto-merging 파일명.md
CONFLICT (content): Merge conflict in 파일명.md
Automatic merge failed; fix conflicts and then commit the result.
```

### 충돌 해결 방법

#### 1단계: 충돌 파일 확인

```bash
git status
```

충돌이 발생한 파일이 표시됩니다.

#### 2단계: 충돌 파일 열기

충돌 파일을 열면 다음과 같은 표시가 있습니다:

```markdown
<<<<<<< HEAD
메인 브랜치의 내용
=======
작업 브랜치의 내용
>>>>>>> docs/견적문의폼-업데이트
```

#### 3단계: 충돌 해결

원하는 내용을 선택하고 충돌 표시를 제거합니다:

```markdown
최종 선택한 내용
```

#### 4단계: 해결된 파일 스테이징 및 병합 완료

```bash
# 해결된 파일 스테이징
git add 파일명.md

# 병합 완료
git commit -m "Merge branch 'docs/견적문의폼-업데이트' into main"
```

---

## 자주 묻는 질문

### Q1: 브랜치를 전환하면 파일이 사라지나요?

**A:** 아니요. 각 브랜치는 독립적인 작업 공간이지만, 파일은 그대로 유지됩니다. 다만 브랜치별로 다른 버전의 파일을 가지고 있을 수 있습니다.

### Q2: 작업 중인 브랜치를 잊어버렸어요. 어떻게 확인하나요?

```bash
# 현재 브랜치 확인
git branch

# 또는
git status
```

### Q3: 다른 브랜치의 변경사항을 가져오고 싶어요.

```bash
# 메인 브랜치의 최신 변경사항을 현재 브랜치에 가져오기
git merge main

# 또는 특정 커밋만 가져오기
git cherry-pick 커밋해시
```

### Q4: 브랜치 이름을 바꾸고 싶어요.

```bash
# 현재 브랜치 이름 변경
git branch -m 새이름

# 다른 브랜치 이름 변경
git branch -m 기존이름 새이름
```

### Q5: 브랜치를 삭제했는데 복구할 수 있나요?

```bash
# 삭제된 브랜치 목록 확인
git reflog

# 브랜치 복구
git checkout -b 복구할브랜치명 삭제된커밋해시
```

### Q6: 메인 브랜치에서 직접 작업하면 안 되나요?

**A:** 가능하지만 권장하지 않습니다. 특히:
- 여러 사람이 작업하는 경우
- 실험적인 작업을 하는 경우
- 안정성을 유지해야 하는 경우

브랜치를 사용하는 것이 안전합니다.

---

## 브랜치 작업 체크리스트

### 작업 시작 전
- [ ] 현재 브랜치 확인 (`git branch`)
- [ ] 메인 브랜치로 이동 (`git checkout main`)
- [ ] 최신 버전 가져오기 (`git pull origin main`)

### 새 브랜치 생성
- [ ] 브랜치 생성 및 전환 (`git checkout -b 브랜치명`)
- [ ] 브랜치 이름 규칙 준수 (docs/, feature/, fix/ 등)

### 작업 중
- [ ] 파일 수정
- [ ] 변경사항 확인 (`git status`)
- [ ] 스테이징 (`git add`)
- [ ] 커밋 (`git commit`)
- [ ] 원격 저장소에 푸시 (`git push`)

### 작업 완료 후
- [ ] 모든 변경사항 커밋 확인
- [ ] 메인 브랜치로 전환 (`git checkout main`)
- [ ] 최신 버전 가져오기 (`git pull origin main`)
- [ ] 작업 브랜치 병합 (`git merge 브랜치명`)
- [ ] 병합된 내용 푸시 (`git push origin main`)
- [ ] (선택) 작업 브랜치 삭제

---

## 요약

**브랜치 작업 흐름:**
1. 메인 브랜치에서 시작
2. 새 브랜치 생성 및 전환
3. 브랜치에서 작업 및 커밋
4. 원격 저장소에 푸시
5. 메인 브랜치로 돌아가기
6. 작업 브랜치 병합
7. 병합된 내용 푸시
8. (선택) 작업 브랜치 삭제

**핵심 명령어:**
- `git checkout -b 브랜치명`: 브랜치 생성 및 전환
- `git checkout 브랜치명`: 브랜치 전환
- `git merge 브랜치명`: 브랜치 병합
- `git branch`: 브랜치 목록 확인
- `git branch -d 브랜치명`: 브랜치 삭제

브랜치를 사용하면 안전하고 체계적으로 작업할 수 있습니다! 🎉






